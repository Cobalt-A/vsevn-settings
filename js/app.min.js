/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
// // Import vendor jQuery plugin example
// import '~/app/libs/mmenu/dist/mmenu.js'
document.addEventListener('DOMContentLoaded', function () {
  input_value(); // clicks

  document.addEventListener('click', function (event) {
    if (event.target.closest('.email-confirmation')) {
      document.querySelector('.confirm-phone').classList.remove('hide');
      stopScroll();
    }

    if (event.target.closest('.chenge-phone')) {
      document.querySelector('.phone-chenge-error-popup').classList.remove('hide');
    }

    if (!event.target.closest('.chenge-phone')) {
      document.querySelector('.phone-chenge-error-popup').classList.add('hide');
    }

    if (event.target.closest('.select')) {
      document.querySelectorAll('.select-list').forEach(function (el) {
        if (event.target.closest('.select').parentElement.querySelector('.select-list') == el) return;
        el.classList.add('hide');
      });
      event.target.closest('.select').parentElement.querySelector('.select-list').classList.toggle('hide');
      event.target.closest('.select').parentElement.querySelector('.angle-up').classList.toggle('hide');
      event.target.closest('.select').parentElement.querySelector('.angle-down').classList.toggle('hide');
    }

    if (!event.target.closest('.select-wrapper')) {
      document.querySelectorAll('.select-list').forEach(function (el) {
        el.classList.add('hide');
        el.parentElement.querySelector('.angle-up').classList.remove('hide');
        el.parentElement.querySelector('.angle-down').classList.add('hide');
      });
    }

    if (event.target.closest('.delete')) {
      document.querySelector('#email').value = '';
      document.querySelector('#email').classList.remove('input-active');
      document.querySelector('.error-message-top').classList.add('hide');
    }

    if (event.target.closest('.delete-telephone')) {
      document.querySelector('.delete-phone').classList.remove('hide');
      stopScroll();
    }

    if (event.target.closest('.delete-email')) {
      document.querySelector('.delete-email-window').classList.remove('hide');
      stopScroll();
    }

    if (event.target.closest('.clean-textarea')) {
      var textarea = event.target.closest('.clean-textarea').parentElement.parentElement.parentElement.querySelector('textarea');
      textarea.value = '';
      textarea.classList.remove('input-active');
      textarea.classList.remove('custom-input-active');
    }
  }); // inputs

  document.addEventListener('input', function (event) {
    input_value();

    if (event.target == document.querySelector('#email')) {
      document.querySelector('.error-message-top').classList.remove('hide');
      document.querySelector('.error-message-top').innerHTML = "<span>".concat(event.target.value, "</span><a href=\"#\" class=\"delete icon\"><img src=\"images/dist/Forma 1 \u043A\u043E\u043F\u0438\u044F 15.png\" alt=\"\"></a>");
      if (event.target.value == '') document.querySelector('.error-message-top').classList.add('hide');
      var value = event.target.value;
      var re = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;

      if (!value.toLowerCase().match(re)) {
        event.target.parentElement.parentElement.parentElement.querySelector('.red-text').classList.remove('hide');
        event.target.classList.add('error-input');
      } else {
        event.target.parentElement.parentElement.parentElement.querySelector('.red-text').classList.add('hide');
        event.target.classList.remove('error-input');
      }
    }

    if (event.target == document.querySelector('#phone')) {
      var _value = event.target.value;
      var _re = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;

      if (!_value.toLowerCase().match(_re)) {
        event.target.parentElement.parentElement.parentElement.querySelector('.red-text').classList.remove('hide');
        event.target.classList.add('error-input');
      } else {
        event.target.parentElement.parentElement.parentElement.querySelector('.red-text').classList.add('hide');
        event.target.classList.remove('error-input');
      }
    }
  });
  document.querySelectorAll('.modal-window, .modal-container, .modal-window .close img, .modal-window .red-btn').forEach(function (el) {
    el.addEventListener('click', function (event) {
      document.querySelectorAll('.modal-window').forEach(function (modal) {
        if (el != event.target) return;
        modal.classList.add('hide');
      });
      continueScroll();
    });
  });
  document.querySelectorAll('.tag .icon img').forEach(function (el) {
    el.addEventListener('click', function (event) {
      el.parentElement.parentElement.remove();
    });
  });
  document.querySelectorAll('.clean-input img').forEach(function (el) {
    el.addEventListener('click', function (event) {
      if (event.target.parentElement.parentElement.parentElement.parentElement.querySelector('input')) {
        var input = event.target.parentElement.parentElement.parentElement.parentElement.querySelector('input');
        input.value = '';
        input.classList.remove('input-active');
        input.classList.remove('custom-input-active');
      }

      if (event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select')) {
        event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select span').innerHTML = 'Не выбрано';
        event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select').classList.remove('select-active');
      }
    });
  });
  document.querySelectorAll('.select-list li a').forEach(function (el) {
    el.addEventListener('click', function (event) {
      document.querySelectorAll('.select-list li').forEach(function (el) {
        el.classList.remove('active');
      });
      event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select').classList.remove('error-input');
      event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select span').innerText = event.target.innerHTML;
      event.target.parentElement.parentElement.parentElement.parentElement.querySelector('.select').classList.add('select-active');
      event.target.parentElement.classList.add('active');
    });
  });
  document.querySelectorAll('.action-container .expand img').forEach(function (el) {
    el.addEventListener('click', function (event) {
      var img = el.parentElement.parentElement.previousElementSibling;
      document.querySelector('.modal-img-wrapper .img-container').innerHTML = img.outerHTML;
      document.querySelector('.img-modal-window').classList.remove('hide');
      stopScroll();
    });
  });

  document.getElementById('main-form').onsubmit = function (event) {
    var form = event.target;
    var invalid = false;
    form.querySelectorAll('.custom-input').forEach(function (el) {
      if (el.value != '') return;
      el.classList.add('custom-input-active');
      el.setAttribute('placeholder', 'ЗАПОЛНИТЕ ЭТО ПОЛЕ');
      el.classList.add('error-input');
      invalid = true;
    });
    form.querySelectorAll('.text-area').forEach(function (el) {
      if (el.value.length >= 250) return;
      el.classList.add('error-input');
      el.setAttribute('placeholder', 'ЗАПОЛНИТЕ ЭТО ПОЛЕ');
      el.parentElement.parentElement.querySelector('.textarea-error-message').classList.remove('hide');
      invalid = true;
    });
    form.querySelectorAll('.select').forEach(function (el) {
      if (el.classList.contains('select-active')) return;
      el.classList.add('error-input');
    });
    form.querySelectorAll('.input-date').forEach(function (el) {
      if (el.value) return;
      el.classList.add('error-input');
    });

    if (invalid) {
      form.scrollIntoView({
        behavior: "smooth"
      });
      return false;
    }
  }; // input hightlight


  function input_value() {
    document.querySelectorAll('.input-date').forEach(function (el) {
      el.value ? el.classList.add('input-active') : el.classList.remove('input-active');
    });
    document.querySelectorAll('input[type="text"]:not(.custom-input)').forEach(function (el) {
      el.value ? el.classList.add('input-active') : el.classList.remove('input-active');
      if (el.classList.contains('error-input') && el.value) el.classList.remove('error-input');
    });
    document.querySelectorAll('.custom-input').forEach(function (el) {
      el.value || el.getAttribute('placeholder') ? el.classList.add('custom-input-active') : el.classList.remove('custom-input-active');
      if (el.classList.contains('error-input') && el.value) el.classList.remove('error-input');
    });
    document.querySelectorAll('.text-area').forEach(function (el) {
      el.value ? el.classList.add('input-active') : el.classList.remove('input-active');

      if (el.classList.contains('error-input') && el.value.length >= 250) {
        el.classList.remove('error-input');
        el.parentElement.parentElement.querySelector('.textarea-error-message').classList.add('hide');
      }
    });
    document.querySelectorAll('.custom-textarea').forEach(function (el) {
      el.value ? el.classList.add('custom-input-active') : el.classList.remove('custom-input-active');
      if (el.classList.contains('error-input') && el.value) el.classList.remove('error-input');
    });
  }

  function stopScroll() {
    document.body.style.overflow = 'hidden';
  }

  function continueScroll() {
    document.body.style.overflow = '';
  }
});
/******/ })()
;